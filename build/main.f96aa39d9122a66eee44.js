(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9RgX":function(e,n,l){var t=l("mp5j");e.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(e,n,l,t,o){var a,i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="emptyItem">\n  <p class="tetx">\n    '+e.escapeExpression("function"==typeof(a=null!=(a=i(l,"text")||(null!=n?i(n,"text"):n))?a:e.hooks.helperMissing)?a.call(null!=n?n:e.nullContext||{},{name:"text",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:12}}}):a)+"\n  </p>\n</li>"},useData:!0})},EHzl:function(e,n,l){},GdYR:function(e,n,l){},"H/QI":function(e,n,l){var t=l("mp5j");e.exports=(t.default||t).template({1:function(e,n,l,t,o){var a,i=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,c="function",r=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li id="+r(typeof(a=null!=(a=u(l,"id")||(null!=n?u(n,"id"):n))?a:s)===c?a.call(i,{name:"id",hash:{},data:o,loc:{start:{line:2,column:7},end:{line:2,column:13}}}):a)+' class ="movieCard">\n    <span class="regularMovie" data-id='+r(typeof(a=null!=(a=u(l,"id")||(null!=n?u(n,"id"):n))?a:s)===c?a.call(i,{name:"id",hash:{},data:o,loc:{start:{line:3,column:39},end:{line:3,column:45}}}):a)+'>\n    </span>\n    <a class="movieLink" href="">\n        <img id='+r(typeof(a=null!=(a=u(l,"id")||(null!=n?u(n,"id"):n))?a:s)===c?a.call(i,{name:"id",hash:{},data:o,loc:{start:{line:6,column:16},end:{line:6,column:22}}}):a)+' class="moviePoster" src='+r(typeof(a=null!=(a=u(l,"img")||(null!=n?u(n,"img"):n))?a:s)===c?a.call(i,{name:"img",hash:{},data:o,loc:{start:{line:6,column:47},end:{line:6,column:54}}}):a)+' alt="movie title" >\n    </a>\n    <div class="shortDescription">\n        <h3 class="movieName">'+r(typeof(a=null!=(a=u(l,"name")||(null!=n?u(n,"name"):n))?a:s)===c?a.call(i,{name:"name",hash:{},data:o,loc:{start:{line:9,column:30},end:{line:9,column:38}}}):a)+'</h3>\n        <p class="movieYear">'+r(typeof(a=null!=(a=u(l,"year")||(null!=n?u(n,"year"):n))?a:s)===c?a.call(i,{name:"year",hash:{},data:o,loc:{start:{line:10,column:29},end:{line:10,column:37}}}):a)+"</p>\n    </div>\n</li>\n\n"},compiler:[8,">= 4.3.0"],main:function(e,n,l,t,o){var a;return null!=(a=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(l,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?a:""},useData:!0})},QfWi:function(e,n,l){"use strict";l.r(n);l("rup9"),l("EHzl");const t="https://my-json-server.typicode.com/moviedb-tech/movies/list";var o={getMoviesList:async()=>fetch(t).then(e=>e.json()).catch(e=>console.log(e)),getMovieItem:async e=>fetch(t+"/"+e).then(e=>e.json()).catch(e=>console.log(e))},a={moviesList:document.querySelector(".moviesList"),modalWindow:document.querySelector(".modalWindow"),favoriteMovieList:document.querySelector(".favoriteMovieList"),body:document.querySelector("body")},i=l("H/QI"),s=l.n(i),c=l("sc2V"),r=l.n(c),u=l("9RgX"),d=l.n(u);l("mRb+"),l("GdYR");const{moviesList:m,favoriteMovieList:v}=a,p={allMovies:[],favoriteMovies:[]};(async()=>{const e=await o.getMoviesList().then(e=>e);if(p.allMovies.push(...e),localStorage.setItem("allMovies",JSON.stringify(p.allMovies)),m.insertAdjacentHTML("beforeend",s()(e)),p.favoriteMovies.length>0)p.allMovies.filter(e=>{p.favoriteMovies.includes(String(e.id))&&v.insertAdjacentHTML("beforeend",r()(e))});else{const e={text:"You still not added any of movies to favorite list!"};v.insertAdjacentHTML("beforeend",d()(e))}})();const f=e=>{e.favoriteMovies=JSON.parse(localStorage.getItem("favoriteMovies"))||[];const n=e.favoriteMovies;null!==m.children&&setTimeout(()=>{const e=document.querySelectorAll(".regularMovie");for(const l of e)n.includes(l.dataset.id)?l.classList.replace("regularMovie","favoriteMovie"):l.classList.replace("favoriteMovie","regularMovie")},1e3)};f(p);const h=async e=>{e.preventDefault();const n=await e.target,l=n.dataset.id;if(p.favoriteMovies.length>=0){const e=document.querySelector(".emptyItem");e&&v.removeChild(e)}if(l){p.favoriteMovies=JSON.parse(localStorage.getItem("favoriteMovies"))||[];const e=document.querySelectorAll(".movieItem"),t=document.querySelectorAll(".favoriteMovie");if(p.favoriteMovies.includes(l)){p.favoriteMovies=p.favoriteMovies.filter(e=>e!==l),n.classList.replace("favoriteMovie","regularMovie");for(const e of t)l===e.dataset.id&&e.classList.replace("favoriteMovie","regularMovie");for(const n of e)l===n.id&&v.removeChild(n);if(0===p.favoriteMovies.length){const e={text:"Your list is empty, because you delete all your favorite movies!"};v.insertAdjacentHTML("beforeend",d()(e))}}else{p.favoriteMovies.push(l),n.classList.replace("regularMovie","favoriteMovie");for(const e of p.allMovies)+l===e.id&&v.insertAdjacentHTML("beforeend",r()(e))}localStorage.setItem("favoriteMovies",JSON.stringify(p.favoriteMovies))}};m.addEventListener("click",h),v.addEventListener("click",h);var y=l("WBdO"),M=l.n(y);l("UX+i");const{moviesList:g,modalWindow:L,body:b}=a;g.addEventListener("click",async e=>{e.preventDefault(),""!==e.target.id&&(!async function(){const n=await o.getMovieItem(+e.target.id).then(e=>e);L.innerHTML=M()(n);document.querySelector(".userStatus").firstElementChild.addEventListener("click",h)}(),b.style.overflow="hidden",f(p))}),L.addEventListener("click",e=>{e.preventDefault(),"BUTTON"==e.target.nodeName&&(L.innerHTML="",b.style.overflow="auto")})},"UX+i":function(e,n,l){},WBdO:function(e,n,l){var t=l("mp5j");e.exports=(t.default||t).template({1:function(e,n,l,t,o){return'            <li class="genre">\n              '+e.escapeExpression(e.lambda(n,n))+"\n            </li>\n"},3:function(e,n,l,t,o){return'            <li class="star">'+e.escapeExpression(e.lambda(n,n))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,l,t,o){var a,i,s=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,r="function",u=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<div data-id="+u(typeof(i=null!=(i=d(l,"id")||(null!=n?d(n,"id"):n))?i:c)===r?i.call(s,{name:"id",hash:{},data:o,loc:{start:{line:1,column:13},end:{line:1,column:19}}}):i)+' class="modal" data-modal="movieDetails">\n  <div class="wrapperModal">\n    <button class="closeMovieDetails"></button>\n    <div class="mainContainer">\n      <img class="posterMovie" src='+u(typeof(i=null!=(i=d(l,"img")||(null!=n?d(n,"img"):n))?i:c)===r?i.call(s,{name:"img",hash:{},data:o,loc:{start:{line:5,column:35},end:{line:5,column:42}}}):i)+' alt="movie poster" />\n      <div class="descriptionContainer">\n        <h3 class="titleMovieName">\n          '+u(typeof(i=null!=(i=d(l,"name")||(null!=n?d(n,"name"):n))?i:c)===r?i.call(s,{name:"name",hash:{},data:o,loc:{start:{line:8,column:10},end:{line:8,column:18}}}):i)+'\n        </h3>\n        <p class="movieDescription">\n          '+u(typeof(i=null!=(i=d(l,"description")||(null!=n?d(n,"description"):n))?i:c)===r?i.call(s,{name:"description",hash:{},data:o,loc:{start:{line:11,column:10},end:{line:11,column:25}}}):i)+'\n        </p>\n      </div>\n    </div>\n    <div class="movieInfo">\n      <div class="containerMovieInfo">\n        <div class="userStatus">\n          <span class="regularMovie" data-id='+u(typeof(i=null!=(i=d(l,"id")||(null!=n?d(n,"id"):n))?i:c)===r?i.call(s,{name:"id",hash:{},data:o,loc:{start:{line:18,column:45},end:{line:18,column:51}}}):i)+'></span>\n          <p class="movieCreatedAt">\n            '+u(typeof(i=null!=(i=d(l,"year")||(null!=n?d(n,"year"):n))?i:c)===r?i.call(s,{name:"year",hash:{},data:o,loc:{start:{line:20,column:12},end:{line:20,column:20}}}):i)+'\n          </p>\n        </div>\n        <ul class="movieGenre">\n'+(null!=(a=d(l,"each").call(s,null!=n?d(n,"genres"):n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:24,column:10},end:{line:28,column:19}}}))?a:"")+'        </ul>\n      </div>\n      <div class="createdBy">\n        <p class="director">\n          Director:\n          '+u(typeof(i=null!=(i=d(l,"director")||(null!=n?d(n,"director"):n))?i:c)===r?i.call(s,{name:"director",hash:{},data:o,loc:{start:{line:34,column:10},end:{line:34,column:22}}}):i)+'\n        </p>\n        <ul class="actors">\n          Starring:\n'+(null!=(a=d(l,"each").call(s,null!=n?d(n,"starring"):n,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:38,column:10},end:{line:40,column:19}}}))?a:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},"mRb+":function(e,n,l){},rup9:function(e,n,l){},sc2V:function(e,n,l){var t=l("mp5j");e.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(e,n,l,t,o){var a,i=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,r=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li id="+c("function"==typeof(a=null!=(a=r(l,"id")||(null!=n?r(n,"id"):n))?a:s)?a.call(i,{name:"id",hash:{},data:o,loc:{start:{line:1,column:7},end:{line:1,column:13}}}):a)+' class ="movieItem">\n    <div class="movieWrap">\n        <p class="movieTitleName">'+c("function"==typeof(a=null!=(a=r(l,"name")||(null!=n?r(n,"name"):n))?a:s)?a.call(i,{name:"name",hash:{},data:o,loc:{start:{line:3,column:34},end:{line:3,column:42}}}):a)+'</p>\n        <button class="deleteMovieBtn" data-id='+c("function"==typeof(a=null!=(a=r(l,"id")||(null!=n?r(n,"id"):n))?a:s)?a.call(i,{name:"id",hash:{},data:o,loc:{start:{line:4,column:47},end:{line:4,column:53}}}):a)+"></button>\n    </div>\n</li>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.f96aa39d9122a66eee44.js.map